1. Цель проекта
Разработка Telegram-бота, позволяющего пользователям отправлять файлы размером до 2 ГБ, которые затем автоматически загружаются на Яндекс.Диск с последующей отправкой пользователю публичной ссылки для скачивания. Бот реализует удобный и безопасный способ обмена большими файлами через облачное хранилище.

2. Обоснование необходимости
Telegram ограничивает размер пересылаемых файлов до 2 ГБ. Однако часто возникает потребность не просто переслать файл, но и предоставить ссылку на его загрузку из облака. Использование Яндекс.Диска как внешнего хранилища предоставляет:

Долговременный доступ к файлам;

Возможность скачивания без входа в Telegram;

Упрощённое взаимодействие с файлами через Web-интерфейс или мобильные приложения.

3. Используемые технологии
Язык программирования: Python 3.10+

Библиотеки и инструменты:

aiogram — асинхронный фреймворк для работы с Telegram Bot API;

aiohttp — HTTP-клиент для асинхронных запросов к API Яндекс.Диска;

os, asyncio, logging — стандартные библиотеки Python для работы с системой, логами и асинхронными задачами.

4. Функциональные возможности
Бот выполняет следующие задачи:

Принимает от пользователя документы (файлы) размером до 2 ГБ.

Сохраняет файл во временную директорию на сервере.

Обращается к API Яндекс.Диска:

Создаёт (если нужно) папку telegram_uploads;

Загружает файл по полученной ссылке (предварительно запрашивая upload_url);

Публикует файл и получает public_url.

Удаляет временный файл с сервера.

Отправляет пользователю сообщение с публичной ссылкой на файл.

5. Структура кода
YandexDiskClient — отдельный класс, инкапсулирующий логику взаимодействия с Яндекс.Диском (создание папки, загрузка файлов, публикация ссылки).

Обработчики сообщений Telegram:

/start и /help — выводят справочную информацию.

document — обрабатывают входящие файлы, запускают процесс загрузки и отправки ссылки.

6. Безопасность и конфиденциальность
Аутентификация к Яндекс.Диску осуществляется по OAuth-токену.

Загруженные файлы публикуются только по инициативе бота.

Локальные копии файлов удаляются сразу после успешной загрузки.

Telegram-токен и OAuth-токен хранятся в переменных окружения и не зашиты в код.

7. Ограничения и допущения
Бот работает только с документами (тип ContentType.DOCUMENT);

Максимальный размер одного файла — 2 ГБ, обусловлен ограничениями Telegram Bot API;

Яндекс.Диск имеет лимиты по использованию API, при превышении которых возможны ошибки;

Отсутствует проверка типа и содержимого файла (можно добавить по необходимости).

8. Заключение
Реализованный Telegram-бот обеспечивает простое и удобное средство обмена большими файлами через облачное хранилище. Решение может использоваться как в личных, так и в корпоративных целях, где необходимо автоматизировать приём и публикацию файлов.

